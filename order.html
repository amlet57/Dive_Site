<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    
    <!-- SEO Основное -->
    <title>DiveGear — производитель спецодежды и аксессуаров для дайвинга</title>
    <meta name="description" content="DiveGear: производство гидрокостюмов, ботов, перчаток и сумок для дайвинга. Индивидуальный пошив, неопрен премиум-класса, доставка по РФ.">
    <meta name="keywords" content="спецодежда для дайвинга, гидрокостюм купить, производитель снаряжения, неопрен, аксессуары дайвера">
    <meta name="author" content="DiveGear">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Соцсети -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="DiveGear — снаряжение для профессионалов подводного мира">
    <meta property="og:description" content="Собственное производство в РФ. Костюмы из японского неопрена.">
    <meta property="og:image" content="https://divegear.ru/assets/images/og-preview.jpg">
    <meta property="og:url" content="https://divegear.ru">
    <meta property="og:site_name" content="DiveGear">
    
    <!-- Favicon (разместите в корне .ico, .png) -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- Кастомные стили -->
    <link rel="stylesheet" href="assets/css/style.css">
    
    <!-- Микроразметка Schema.org для организации -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "DiveGear",
        "url": "https://divegear.ru",
        "logo": "https://divegear.ru/assets/images/logo.png",
        "description": "Производство спецодежды и аксессуаров для дайвинга",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Москва, РФ"
        }
    }
    </script>
</head>
<body>

<!-- ШАПКА (навигация) идентична для всех страниц -->
<nav class="navbar navbar-expand-lg navbar-dark navbar-dive sticky-top">
    <div class="container">
        <a class="navbar-brand" href="index.html">
            <i class="bi bi-water"></i> DiveGear
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain" aria-controls="navbarMain" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarMain">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" href="index.html">Главная</a></li>
                <li class="nav-item"><a class="nav-link" href="about.html">О компании</a></li>
                <li class="nav-item"><a class="nav-link" href="order.html">Услуги</a></li>
                <li class="nav-item"><a class="nav-link" href="portfolio.html">Портфолио</a></li>
                <li class="nav-item"><a class="nav-link" href="contact.html">Контакты</a></li>
            </ul>
        </div>
    </div>
</nav>

<main>
    <!-- Hero секция -->
    <section class="order-hero text-center">
        <div class="container">
            <span class="badge bg-white text-dark px-4 py-2 rounded-pill mb-3">
                <i class="bi bi-box-seam me-2"></i>ИНДИВИДУАЛЬНЫЙ ЗАКАЗ
            </span>
            <h1 class="display-4 fw-bold mb-4">Заказ спецодежды и снаряжения</h1>
            <p class="lead mx-auto" style="max-width: 700px;">Заполните форму — мы подберем идеальный размер и подготовим коммерческое предложение в течение 2 часов</p>
        </div>
    </section>

    <div class="container">
        <!-- Сообщение об успешном заказе (показывается после отправки) -->
        <div id="successMessage" style="display: none;" class="alert-success mb-5">
            <i class="bi bi-check-circle-fill fs-1"></i>
            <h3 class="mt-3 fw-bold">Заказ успешно оформлен!</h3>
            <p class="mb-0 fs-5">Номер вашего заказа: <strong id="orderNumberDisplay"></strong></p>
            <p class="text-muted mt-2">Мы свяжемся с вами в ближайшее время для подтверждения.</p>
            <button onclick="resetForm()" class="btn btn-outline-dark rounded-pill px-5 mt-3">Оформить еще заказ</button>
        </div>

        <div class="row" id="orderForm">
            <div class="col-lg-8 mx-auto">
                <div class="order-form-container">
                    <h2 class="fw-bold mb-4" style="color: var(--dg-primary);">Оформить заказ</h2>
                    
                    <form id="orderFormElement" class="needs-validation" novalidate>
                        <!-- Вид спецодежды -->
                        <div class="mb-4">
                            <label for="clothing_type" class="form-label">
                                <i class="bi bi-backpack me-2"></i>Вид спецодежды *
                            </label>
                            <select class="form-select" id="clothing_type" required>
                                <option value="" selected disabled>Выберите тип изделия</option>
                                <optgroup label="Гидрокостюмы">
                                    <option value="Сухой гидрокостюм «Арктика»">Сухой гидрокостюм «Арктика»</option>
                                    <option value="Мокрый гидрокостюм 3 мм">Мокрый гидрокостюм 3 мм</option>
                                    <option value="Мокрый гидрокостюм 5 мм">Мокрый гидрокостюм 5 мм</option>
                                    <option value="Мокрый гидрокостюм 7 мм">Мокрый гидрокостюм 7 мм</option>
                                </optgroup>
                                <optgroup label="Термобелье">
                                    <option value="Термобелье дайвера">Термобелье дайвера</option>
                                </optgroup>
                                <optgroup label="Перчатки">
                                    <option value="Перчатки неопреновые 3 мм">Перчатки неопреновые 3 мм</option>
                                    <option value="Перчатки неопреновые 5 мм">Перчатки неопреновые 5 мм</option>
                                    <option value="Перчатки неопреновые 7 мм">Перчатки неопреновые 7 мм</option>
                                </optgroup>
                                <optgroup label="Обувь">
                                    <option value="Ботинки неопреновые 3 мм">Ботинки неопреновые 3 мм</option>
                                    <option value="Ботинки неопреновые 5 мм">Ботинки неопреновые 5 мм</option>
                                    <option value="Ботинки неопреновые 7 мм">Ботинки неопреновые 7 мм</option>
                                    <option value="Носки под ласты 2 мм">Носки под ласты 2 мм</option>
                                    <option value="Носки под ласты 3 мм">Носки под ласты 3 мм</option>
                                </optgroup>
                                <optgroup label="Аксессуары">
                                    <option value="Сумка-туба «Нерпа» 40л">Сумка-туба «Нерпа» 40л</option>
                                    <option value="Сумка для ласт">Сумка для ласт</option>
                                    <option value="Чехол для регата">Чехол для регата</option>
                                    <option value="Коврик неопреновый">Коврик неопреновый</option>
                                </optgroup>
                                <optgroup label="Кастом">
                                    <option value="Кастомный пошив (индивидуальный заказ)">Кастомный пошив (индивидуальный заказ)</option>
                                </optgroup>
                            </select>
                            <div class="invalid-feedback">Пожалуйста, выберите вид спецодежды</div>
                        </div>

                        <!-- Размер и количество -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <label for="size" class="form-label">
                                    <i class="bi bi-rulers me-2"></i>Предполагаемый размер *
                                </label>
                                <select class="form-select" id="size" required>
                                    <option value="" selected disabled>Выберите размер</option>
                                    <option value="XS (44-46)">XS (44-46)</option>
                                    <option value="S (48-50)">S (48-50)</option>
                                    <option value="M (52-54)">M (52-54)</option>
                                    <option value="L (56-58)">L (56-58)</option>
                                    <option value="XL (60-62)">XL (60-62)</option>
                                    <option value="XXL (64-66)">XXL (64-66)</option>
                                    <option value="Индивидуальный">Индивидуальный (требуются мерки)</option>
                                    <option value="Уточнить">Требуется помощь в подборе</option>
                                </select>
                                <div class="invalid-feedback">Укажите размер</div>
                            </div>
                            <div class="col-md-6">
                                <label for="quantity" class="form-label">
                                    <i class="bi bi-boxes me-2"></i>Количество (штук) *
                                </label>
                                <input type="number" class="form-control" id="quantity" min="1" max="1000" value="1" required>
                                <div class="invalid-feedback">Укажите количество от 1 до 1000</div>
                            </div>
                        </div>

                        <!-- ФИО Заказчика -->
                        <div class="mb-4">
                            <label for="customer_name" class="form-label">
                                <i class="bi bi-person-circle me-2"></i>ФИО Заказчика *
                            </label>
                            <input type="text" class="form-control" id="customer_name" placeholder="Иванов Иван Иванович" required>
                            <div class="invalid-feedback">Введите ваше полное имя</div>
                        </div>

                        <!-- Телефон -->
                        <div class="mb-4">
                            <label for="phone" class="form-label">
                                <i class="bi bi-telephone-fill me-2"></i>Телефон *
                            </label>
                            <input type="tel" class="form-control" id="phone" placeholder="+7 (___) ___-__-__" required>
                            <div class="invalid-feedback">Введите корректный номер телефона</div>
                            <div class="form-text">Для оперативной связи и подтверждения заказа</div>
                        </div>

                        <!-- Адрес доставки -->
                        <div class="mb-4">
                            <label for="address" class="form-label">
                                <i class="bi bi-geo-alt-fill me-2"></i>Адрес доставки *
                            </label>
                            <textarea class="form-control" id="address" rows="3" placeholder="Город, улица, дом, квартира / пункт выдачи СДЭК" required></textarea>
                            <div class="invalid-feedback">Укажите адрес доставки</div>
                        </div>

                        <!-- Комментарий -->
                        <div class="mb-5">
                            <label for="comment" class="form-label">
                                <i class="bi bi-chat-text me-2"></i>Комментарий к заказу
                            </label>
                            <textarea class="form-control" id="comment" rows="2" placeholder="Дополнительные пожелания, цвет, материалы, срочность..."></textarea>
                        </div>

                        <!-- Кнопка отправки -->
                        <button type="submit" class="btn-order">
                            <i class="bi bi-check-circle me-2"></i>Оформить заказ
                        </button>

                        <p class="text-muted text-center mt-4 mb-0 small">
                            <i class="bi bi-shield-lock"></i> Нажимая кнопку, вы соглашаетесь с политикой обработки персональных данных
                        </p>
                    </form>

                    <!-- Подсказка по размерам -->
                    <div class="size-guide">
                        <h5 class="fw-bold mb-3"><i class="bi bi-info-circle me-2"></i>Как подобрать размер?</h5>
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-unstyled mb-0">
                                    <li><i class="bi bi-arrow-right-circle me-2 text-primary"></i> Рост: XS (до 165), S (165-172), M (172-182), L (182-188), XL (188-195)</li>
                                    <li class="mt-2"><i class="bi bi-arrow-right-circle me-2 text-primary"></i> Грудь: XS (86-92), S (94-100), M (102-108), L (110-116), XL (118-124)</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled mb-0">
                                    <li><i class="bi bi-arrow-right-circle me-2 text-primary"></i> Талия: XS (70-76), S (78-84), M (86-92), L (94-102), XL (104-112)</li>
                                    <li class="mt-2"><i class="bi bi-arrow-right-circle me-2 text-primary"></i> Не подходит? Выберите "Индивидуальный"</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Бейдж входа в админку -->
    <div class="admin-badge">
        <a href="admin/login.html">
            <i class="bi bi-shield-lock-fill"></i>
            <span>Администратор</span>
        </a>
    </div>
</main>

<!-- Футер (общий) -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-4">
                <h5 class="text-white"><i class="bi bi-water"></i> DiveGear</h5>
                <p>Производство спецодежды для дайвинга с 2010 года. Сертифицировано ISO 9001.</p>
            </div>
            <div class="col-md-2 mb-4">
                <h6 class="text-white">Навигация</h6>
                <ul class="list-unstyled">
                    <li><a href="about.html">О нас</a></li>
                    <li><a href="services.html">Услуги</a></li>
                    <li><a href="portfolio.html">Проекты</a></li>
                </ul>
            </div>
            <div class="col-md-3 mb-4">
                <h6 class="text-white">Контакты</h6>
                <ul class="list-unstyled">
                    <li><i class="bi bi-geo-alt"></i> г. Москва, ул. Промышленная, 12</li>
                    <li><i class="bi bi-telephone"></i> +7 (495) 123-45-67</li>
                    <li><i class="bi bi-envelope"></i> info@divegear.ru</li>
                </ul>
            </div>
            <div class="col-md-3 mb-4">
                <h6 class="text-white">Мы в соцсетях</h6>
                <a href="#" class="me-2"><i class="bi bi-telegram fs-4"></i></a>
                <a href="#"><i class="bi bi-vk fs-4"></i></a>
            </div>
        </div>
        <hr class="bg-secondary">
        <div class="text-center pt-3">
            <p class="small mb-0">© 2025 DiveGear. Все права защищены. Копирование материалов запрещено.</p>
        </div>
    </div>
</footer>

<script>
    // Маска для телефона
    document.getElementById('phone').addEventListener('input', function(e) {
        let x = e.target.value.replace(/\D/g, '').match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);
        e.target.value = !x[2] ? x[1] : '+7 (' + x[2] + ') ' + x[3] + (x[4] ? '-' + x[4] : '') + (x[5] ? '-' + x[5] : '');
    });

    // Генерация номера заказа
    function generateOrderNumber() {
        const date = new Date();
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        const random = Math.random().toString(36).substring(2, 8).toUpperCase();
        return `DG-${year}${month}${day}-${random}`;
    }

    // Сохранение заказа в localStorage
    function saveOrder(orderData) {
        // Получаем существующие заказы
        let orders = JSON.parse(localStorage.getItem('divegear_orders')) || [];
        
        // Добавляем новый заказ
        orders.push(orderData);
        
        // Сохраняем обратно
        localStorage.setItem('divegear_orders', JSON.stringify(orders));
        
        console.log('Заказ сохранен в localStorage');
    }

    // Валидация и отправка формы
    document.getElementById('orderFormElement').addEventListener('submit', function(event) {
        event.preventDefault();
        event.stopPropagation();
        
        const form = this;
        
        // Дополнительная валидация телефона
        const phoneInput = document.getElementById('phone');
        const phonePattern = /^\+7\s\(\d{3}\)\s\d{3}-\d{2}-\d{2}$/;
        
        if (!phonePattern.test(phoneInput.value)) {
            phoneInput.classList.add('is-invalid');
            form.classList.add('was-validated');
            return;
        } else {
            phoneInput.classList.remove('is-invalid');
            phoneInput.classList.add('is-valid');
        }
        
        // Проверяем валидность формы
        if (form.checkValidity()) {
            // Собираем данные заказа
            const orderNumber = generateOrderNumber();
            const orderData = {
                order_number: orderNumber,
                clothing_type: document.getElementById('clothing_type').value,
                size: document.getElementById('size').value,
                quantity: parseInt(document.getElementById('quantity').value),
                customer_name: document.getElementById('customer_name').value,
                customer_phone: document.getElementById('phone').value,
                delivery_address: document.getElementById('address').value,
                comment: document.getElementById('comment').value || '',
                status: 'new',
                created_at: new Date().toISOString()
            };
            
            // Сохраняем заказ
            saveOrder(orderData);
            
            // Показываем сообщение об успехе
            document.getElementById('orderNumberDisplay').textContent = orderNumber;
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('orderForm').style.display = 'none';
            
            // Сбрасываем форму
            form.reset();
            form.classList.remove('was-validated');
            
            // Прокручиваем к сообщению
            document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
        } else {
            form.classList.add('was-validated');
        }
    });

    // Сброс формы для нового заказа
    function resetForm() {
        document.getElementById('successMessage').style.display = 'none';
        document.getElementById('orderForm').style.display = 'block';
        document.getElementById('orderFormElement').reset();
        document.getElementById('orderFormElement').classList.remove('was-validated');
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>